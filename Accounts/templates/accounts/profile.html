{% extends 'base.html' %}

{% block body %}
<div class="container mx-auto py-10 relative">
    <div class="rounded-lg bg-gradient-to-br from-purple-500 to-blue-600 shadow-lg overflow-hidden">
        <div class="flex flex-col lg:flex-row">
            <!-- Left Sidebar with Tagline -->
            <div class="bg-gradient-to-r from-purple-600 to-purple-500 text-center lg:text-left p-8 lg:w-1/3">
                {% if profile.image %}
                <img src="{{ profile.image.url }}" alt="Profile Image" class="rounded-full h-40 w-40 mx-auto lg:mx-0 mb-4">
                {% else %}
                <img src="https://via.placeholder.com/128" alt="Default Image" class="rounded-full h-40 w-40 mx-auto lg:mx-0 mb-4">
                {% endif %}
                <h2 class="text-4xl font-bold text-white mt-4 lg:mt-0">{{ user.first_name }} {{ user.last_name }}</h2>
                <div class="text-white text-opacity-75">{{ profile.job_title }}</div>
                <!-- Tagline about blood donation -->
                <p class="text-white text-opacity-75 mt-4 mb-8">Donate Blood, Save Lives</p>
                <!-- Additional Information and Icons -->
                <div class="flex justify-center lg:justify-start">
                    <div class="flex items-center text-white text-opacity-75 mb-4 lg:mb-0">
                        <i class="fas fa-map-marker-alt mr-2"></i>
                        <span>{{ address.city }} {{ address.country }}</span>
                    </div>
                    <div class="flex items-center text-white text-opacity-75 ml-8">
                        <i class="fas fa-birthday-cake mr-2"></i>
                        <span>{{ profile.birth_date }}</span>
                    </div>
                </div>
            </div>

            <!-- Profile Details -->
            <div class="flex-grow p-8 bg-gradient-to-r from-blue-500 to-purple-500 relative">
                <h3 class="text-3xl font-bold mb-6 text-white">About</h3>
                <p class="text-gray-100">{{ profile.bio }}</p>
                
                <!-- Personal Details with Age and BMI -->
                <div class="mt-10">
                    <h4 class="text-2xl font-bold mb-4 text-white">Personal Details</h4>
                    <div class="flex items-center text-gray-100 mb-4">
                        <i class="fas fa-venus-mars mr-2"></i>
                        <span>Gender: {{ profile.gender }}</span>
                    </div>
                    <div class="flex items-center text-gray-100 mb-4">
                        <i class="fas fa-tint mr-2"></i>
                        <span>Blood Group: {{ profile.blood_group }}</span>
                    </div>
                    <div class="flex items-center text-gray-100 mb-4">
                        <i class="fas fa-birthday-cake mr-2"></i>
                        <span>Age: {{ profile.calculate_age }} years</span>
                    </div>
                    <div class="flex items-center text-gray-100 mb-4">
                        <i class="fas fa-ruler-vertical mr-2"></i>
                        <span>Height: {{ profile.height }} Feet</span>
                    </div>
                    <div class="flex items-center text-gray-100 mb-4">
                        <i class="fas fa-weight-hanging mr-2"></i>
                        <span>Weight: {{ profile.weight }} kg</span>
                    </div>
                    <div class="flex items-center text-gray-100">
                        <i class="far fa-calendar-alt mr-2"></i>
                        <span>Last Donation Date: {{ profile.last_donation_date }}</span>
                    </div>
                    <div class="flex items-center text-gray-100">
                        <i class="fas fa-calculator mr-2"></i>
                        <span>BMI: {{ profile.calculate_bmi|floatformat:2 }}</span>
                    </div>
                </div>

                <div class="mt-10">
                    <h4 class="text-2xl font-bold mb-4 text-white">Contact Information</h4>
                    <div class="flex items-center text-gray-100 mb-4">
                        <i class="far fa-envelope mr-2"></i>
                        <span>{{ user.email }}</span>
                    </div>
                    <div class="flex items-center text-gray-100">
                        <i class="fas fa-phone mr-2"></i>
                        <span>{{ profile.phone_number }}</span>
                    </div>
                </div>

                <div class="mt-10">
                    <h4 class="text-2xl font-bold mb-4 text-white">Address</h4>
                    <div class="flex items-center text-gray-100 mb-4">
                        <i class="fas fa-map-marker-alt mr-2"></i>
                        <span>{{ address.street_address }}</span>
                    </div>
                    <div class="flex items-center text-gray-100">
                        <span>{{ address.postal_code }}, {{ profile.district }}, {{ address.country }}</span>
                    </div>
                </div>

                <!-- Edit Profile Button with Icon -->
                <!-- <button class="absolute top-0 right-0 bg-blue-500 hover:bg-blue-600 text-white py-2 px-4 rounded-lg shadow-md mt-4 mr-4 flex items-center">
                    <i class="fas fa-edit mr-2"></i>
                    Edit Profile
                </button> -->
            </div>
        </div>
    </div>
</div>

{% endblock %}
