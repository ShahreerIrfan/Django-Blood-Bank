{% extends "base.html" %}

{% block body %}
<div class="max-w-4xl mx-auto bg-white shadow-md rounded-lg overflow-hidden">
  <div class="p-8">
    <h2 class="text-3xl font-bold mb-8 text-center text-gray-800">Emergency Blood Request Details</h2>
    <table class="w-full border border-gray-300 mb-8">
      <tr class="border-b border-gray-300">
        <td class="font-semibold text-gray-700 border-r border-gray-300 py-4 px-6 text-left">Requester:</td>
        <td class="border-r border-gray-300 py-4 px-6 text-left">{{ blood_request.requester }}</td>
      </tr>
      <tr class="border-b border-gray-300">
        <td class="font-semibold text-gray-700 border-r border-gray-300 py-4 px-6 text-left">Blood Group:</td>
        <td class="border-r border-gray-300 py-4 px-6 text-left">{{ blood_request.get_blood_group_display }}</td>
      </tr>
      <tr class="border-b border-gray-300">
        <td class="font-semibold text-gray-700 border-r border-gray-300 py-4 px-6 text-left">Reason for Needing Blood:</td>
        <td class="border-r border-gray-300 py-4 px-6 text-left">{{ blood_request.get_why_need_display }}</td>
      </tr>
      <tr class="border-b border-gray-300">
        <td class="font-semibold text-gray-700 border-r border-gray-300 py-4 px-6 text-left">Location Where Blood is Needed:</td>
        <td class="border-r border-gray-300 py-4 px-6 text-left">{{ blood_request.where_need }}</td>
      </tr>
      <tr class="border-b border-gray-300">
        <td class="font-semibold text-gray-700 border-r border-gray-300 py-4 px-6 text-left">Donation Date:</td>
        <td class="border-r border-gray-300 py-4 px-6 text-left">{{ blood_request.donation_date }}</td>
      </tr>
      <tr class="border-b border-gray-300">
        <td class="font-semibold text-gray-700 border-r border-gray-300 py-4 px-6 text-left">Blood Quantity:</td>
        <td class="border-r border-gray-300 py-4 px-6 text-left">{{ blood_request.blood_quantity }}</td>
      </tr>
      <tr class="border-b border-gray-300">
        <td class="font-semibold text-gray-700 border-r border-gray-300 py-4 px-6 text-left">Hemoglobin Level:</td>
        <td class="border-r border-gray-300 py-4 px-6 text-left">{{ blood_request.hemoglobin_level }}</td>
      </tr>
      <tr class="border-b border-gray-300">
        <td class="font-semibold text-gray-700 border-r border-gray-300 py-4 px-6 text-left">Hospital Name:</td>
        <td class="border-r border-gray-300 py-4 px-6 text-left">{{ blood_request.hospital_name }}</td>
      </tr>
      <tr class="border-b border-gray-300">
        <td class="font-semibold text-gray-700 border-r border-gray-300 py-4 px-6 text-left">Phone Number:</td>
        <td class="border-r border-gray-300 py-4 px-6 text-left">{{ blood_request.phone_number }}</td>
      </tr>
      <tr class="border-b border-gray-300">
        <td class="font-semibold text-gray-700 border-r border-gray-300 py-4 px-6 text-left">Additional Information:</td>
        <td class="border-r border-gray-300 py-4 px-6 text-left">{{ blood_request.additional_information }}</td>
      </tr>
      <tr class="border-b border-gray-300">
        <td class="font-semibold text-gray-700 border-r border-gray-300 py-4 px-6 text-left">Created At:</td>
        <td class="border-r border-gray-300 py-4 px-6 text-left">{{ blood_request.created_at }}</td>
      </tr>
    </table>
    <div class="flex justify-end items-center">
      {% if not blood_request.is_donate %}
      <form action="{% url 'complete_blood_donation_details' blood_request.pk %}" method="post" class="inline">
        {% csrf_token %}
        <button type="submit" class="bg-green-500 hover:bg-green-600 text-white font-semibold py-2 px-4 rounded-lg transition duration-300">
          <i class="fas fa-check-circle mr-2"></i>Complete Donation
        </button>
      </form>
      {% else %}
      <div class="bg-green-500 text-white font-semibold py-2 px-4 rounded-lg">
        <i class="fas fa-check-circle mr-2"></i>Donation Completed
      </div>
      {% endif %}
    </div>
  </div>
</div>
{% endblock %}
